<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ModeSolvers-Solvers · Opticalfibers.jl</title><meta name="title" content="ModeSolvers-Solvers · Opticalfibers.jl"/><meta property="og:title" content="ModeSolvers-Solvers · Opticalfibers.jl"/><meta property="twitter:title" content="ModeSolvers-Solvers · Opticalfibers.jl"/><meta name="description" content="Documentation for Opticalfibers.jl."/><meta property="og:description" content="Documentation for Opticalfibers.jl."/><meta property="twitter:description" content="Documentation for Opticalfibers.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Opticalfibers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../Common/">Common functions</a></li><li><a class="tocitem" href="../PhysicalData/">PhysicalData</a></li><li><a class="tocitem" href="../ModeSolvers-Tutorial/">ModeSolvers-Tutorial</a></li><li class="is-active"><a class="tocitem" href>ModeSolvers-Solvers</a><ul class="internal"><li><a class="tocitem" href="#Quasi-analytical-multi-step-index-fibers-solver"><span>Quasi-analytical multi-step index fibers solver</span></a></li><li><a class="tocitem" href="#Finite-difference-mode-solvers"><span>Finite difference mode solvers</span></a></li><li><a class="tocitem" href="#Finite-element-mode-solvers"><span>Finite element mode solvers</span></a></li></ul></li><li><a class="tocitem" href="../ModeSolvers/">ModeSolvers-Modes and Fields</a></li><li><a class="tocitem" href="../Bibliography/">Bibliography</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>ModeSolvers-Solvers</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ModeSolvers-Solvers</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ovanvincq/OpticalFibers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/main/docs/src/ModeSolvers-Solvers.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="OpticalFibers.ModeSolvers-Solvers"><a class="docs-heading-anchor" href="#OpticalFibers.ModeSolvers-Solvers">OpticalFibers.ModeSolvers - Solvers</a><a id="OpticalFibers.ModeSolvers-Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#OpticalFibers.ModeSolvers-Solvers" title="Permalink"></a></h1><h2 id="Quasi-analytical-multi-step-index-fibers-solver"><a class="docs-heading-anchor" href="#Quasi-analytical-multi-step-index-fibers-solver">Quasi-analytical multi-step index fibers solver</a><a id="Quasi-analytical-multi-step-index-fibers-solver-1"></a><a class="docs-heading-anchor-permalink" href="#Quasi-analytical-multi-step-index-fibers-solver" title="Permalink"></a></h2><p>This solver assumes that the fiber consists of several concentric layers of uniform refractive index. The cladding is assumed to be infinite. In each layer, the analytical solutions are the Bessel functions. The solver uses the interface conditions to predict the effective index and the profile of the modes. This method is described in the book written by J. Bures [<a href="../Bibliography/#Bures2009">6</a>].  </p><p>This solver only returns guided modes: the effective index of the mode is real and cannot be lower than the refractive index of the external cladding. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpticalFibers.ModeSolvers.multi_step_fiber_modes" href="#OpticalFibers.ModeSolvers.multi_step_fiber_modes"><code>OpticalFibers.ModeSolvers.multi_step_fiber_modes</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">multi_step_fiber_modes(lambda::Real,nu::Integer,radius::Union{Vector{&lt;:Real},Real},index::Vector{&lt;:Real};maxPosition::Real=0,numberofPoints::Integer=100,precision::Float64=1E-12,type::Symbol=:Scalar,firstDivision::Integer=0)</code></pre><p>Returns a vector of <code>ScalarMode1D</code> if type=:Scalar or a vector of <code>VectorMode</code> if type=:Vector. If maxPosition=0, the modes do not include the electromagnetic field.</p><ul><li>lambda: wavelength</li><li>nu: azimuthal number</li><li>radius: outer radius of each layer (the cladding is inifinite and has no radius)</li><li>index: refractive index of each layer (the cladding is included so that length(index) must be equal to length(radius)+1)</li><li>maxPosition: maximum value of the radial coordinate r for scalar modes or cartesian coordinates x/y for vector modes. If maxPosition=0, the field is not computed.</li><li>numberofPoints: number of points between 0 and maxPosition</li><li>precision: precision required on the effective index </li><li>type: must be :Scalar or :Vector</li><li>firstDivision: in the case of a very multimode fiber, you can increase this number if some modes are missing. If firstDivision=0, the value of firstDivision is approximated by the solver.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/7238340358472432a76b154816777684c3b8c601/src/ModeSolvers/multi_step_fiber.jl#L1237-L1251">source</a></section></article><h2 id="Finite-difference-mode-solvers"><a class="docs-heading-anchor" href="#Finite-difference-mode-solvers">Finite difference mode solvers</a><a id="Finite-difference-mode-solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Finite-difference-mode-solvers" title="Permalink"></a></h2><p>In this package, the FD solvers only return guided modes. The method used in the vectorial case is described in the paper of Zhu [<a href="../Bibliography/#Zhu2002">7</a>].</p><p>The computation of the effective index amounts to an eigenvalue problem. Three solutions are available to solve this eigenvalue problem: the use of the package <code>Arpack.jl</code> and the use of the package <code>ArnoldiMethod.jl</code> combined with <code>LinearAlgebra.jl</code> (LU decomposition) or <code>MUMPS.jl</code>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpticalFibers.ModeSolvers.FD" href="#OpticalFibers.ModeSolvers.FD"><code>OpticalFibers.ModeSolvers.FD</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">FD(lambda::Real,l::Integer,mmax::Integer,fonc::Function,nb::Integer,rmax::Real;field::Bool=false,order::Integer=1,solver::Symbol=:Arpack,tol::Float64=0.0)</code></pre><p>Returns a vector of <code>ScalarMode1D</code> in the case of a cylindrically-symmetric weakly-guiding fiber.  </p><ul><li>lambda: wavelength</li><li>l: azimuthal number</li><li>mmax: maximal number of modes (useful if the fiber is very multimode)</li><li>fonc: function of the radial coordinate r that describes the refractive index profile</li><li>nb: number of nodes for the finite difference method</li><li>rmax: maximal value of r</li><li>field: boolean that indicates if fields must be saved</li><li>order: order of the method to average the refractive index profile for each node (no averaging if order=1)</li><li>solver: can be :Arpack, :LU or :MUMPS</li><li>tol: tolerance for the eigenvalue solver (see documention of Arpack.jl or ArnoldiMethod.jl)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/7238340358472432a76b154816777684c3b8c601/src/ModeSolvers/FD.jl#L11-L26">source</a></section><section><div><pre><code class="language-julia hljs">FD(lambda::Real,mmax::Integer,fonc::Function,nbx::Integer,nby::Integer,xmax::Real,ymax::Real;field::Bool=false,order::Integer=1,type::Symbol=:Scalar,solver::Symbol=:Arpack,tol::Float64=0.0)</code></pre><p>Returns a vector of <code>ScalarMode2D</code> if type=:Scalar or a vector of <code>VectorMode</code> if type=:Vector.  </p><ul><li>lambda: wavelength</li><li>mmax: maximal number of modes (useful if the fiber is very multimode)</li><li>fonc: function of the cartesian coordinates x/y that describes the refractive index profile</li><li>nbx: number of nodes for the finite difference method in the direction x</li><li>nby: number of nodes for the finite difference method in the direction y</li><li>xmax: maximal value of x</li><li>ymax: maximal value of x</li><li>field: boolean that indicates if fields must be saved</li><li>order: order of the method to average the refractive index profile for each node (no averaging if order=1)</li><li>type: must be :Scalar or :Vector</li><li>solver: can be :Arpack, :LU or :MUMPS</li><li>tol: tolerance for the eigenvalue solver (see documention of Arpack.jl or ArnoldiMethod.jl)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/7238340358472432a76b154816777684c3b8c601/src/ModeSolvers/FD.jl#L106-L123">source</a></section></article><h2 id="Finite-element-mode-solvers"><a class="docs-heading-anchor" href="#Finite-element-mode-solvers">Finite element mode solvers</a><a id="Finite-element-mode-solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Finite-element-mode-solvers" title="Permalink"></a></h2><p>The FEM solvers are based on <code>Gridap.jl</code> and can compute modes of isotropic and anisotropic fibers (useful when using a PML).</p><p>The computation of the effective index amounts to an eigenvalue problem. Two solutions are available to solve this eigenvalue problem: the use of the package <code>ArnoldiMethod.jl</code> combined with <code>LinearAlgebra.jl</code> (LU decomposition) or with <code>MUMPS.jl</code>.</p><p>In the case of anisotropic fibers, the dimension of the matrix is twice as large as in the case of isotropic fibers.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OpticalFibers.ModeSolvers.FEM" href="#OpticalFibers.ModeSolvers.FEM"><code>OpticalFibers.ModeSolvers.FEM</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">FEM(lambda::Real,mmax::Int64,eps::Function,model::DiscreteModel,approx_neff::Real;order::Int64=2,field::Bool=false,type::Symbol=:Scalar,solver::Symbol=:LU,tol::Float64=0.0)</code></pre><p>Returns a vector of <code>ScalarModeFEM</code> if type=:Scalar or a vector of <code>VectorModeFEM</code> if type=:Vector.   The fiber is isotropic and described with its relative permittivity epsilon(pos) where pos is the tuple (x,y).</p><ul><li>lambda: wavelength</li><li>mmax: number of modes to be calculated</li><li>eps: function of the tuple (x,y) that describes the relative permittivity profile</li><li>model: DiscreteModel generated with <code>GridapGmsh.jl</code></li><li>approx_neff: effective index around which the modes will be computed</li><li>order: order of the FEM</li><li>field: boolean that indicates if fields must be saved</li><li>type: must be :Scalar or :Vector</li><li>solver: can be :LU or :MUMPS</li><li>tol: tolerance for the eigenvalue solver (see documention of ArnoldiMethod.jl)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/7238340358472432a76b154816777684c3b8c601/src/ModeSolvers/FEM.jl#L2-L18">source</a></section><section><div><pre><code class="language-julia hljs">FEM(lambda::Real,mmax::Int64,eps::tensor3,mu::tensor3,model::DiscreteModel,approx_neff::Real;order::Int64=1,field::Bool=false,solver::Symbol=:LU,tol::Float64=0.0)</code></pre><p>Returns a vector of <code>VectorModeFEM</code>. The fiber is anisotropic and described with its relative permittivity tensor and its relative permeability tensor.</p><ul><li>lambda: wavelength</li><li>mmax: number of modes to be calculated</li><li>eps: functions of the tuple (x,y) that describes the relative permittivity tensor profile</li><li>mu: functions of the tuple (x,y) that describes the relative permeability tensor profile</li><li>model: DiscreteModel generated with <code>GridapGmsh.jl</code></li><li>approx_neff: effective index around which the modes will be computed</li><li>order: order of the FEM</li><li>field: boolean that indicates if fields must be saved</li><li>solver: can be :LU or :MUMPS</li><li>tol: tolerance for the eigenvalue solver (see documention of ArnoldiMethod.jl)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ovanvincq/OpticalFibers.jl/blob/7238340358472432a76b154816777684c3b8c601/src/ModeSolvers/FEM.jl#L163-L179">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ModeSolvers-Tutorial/">« ModeSolvers-Tutorial</a><a class="docs-footer-nextpage" href="../ModeSolvers/">ModeSolvers-Modes and Fields »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 12 January 2024 10:39">Friday 12 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
